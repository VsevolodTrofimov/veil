
    console.log('veil shall preveil')
    const scr = document.createElement('script')
    console.log(scr)
    scr.textContent =`var veil=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unwatchPost=e.watchPost=e.parseComment=e.parseReplyLink=e.$getCommentsByPostId=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=e.$getCommentsByPostId=function(t){var e=document.querySelectorAll("#replies"+t+" > .reply");return Array.from(e)},i=e.parseReplyLink=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=t.getAttribute("onclick").split("return wall.showReply(")[1].split(")")[0].split(",")[2].trim(),r=n.substring(1,n.length-1),o=document.querySelector('[data-post-id="'+r+'"]');return o?s(o,e):{commentId:-1}},l=function(t){return t=t.replace(/(<br\\s*\\/?>)/g," "),t=t.replace(/<[^>]*>/g,"")},s=e.parseComment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=t.getAttribute("data-post-id"),r=t.querySelector("a.author").getAttribute("data-from-id"),o=Array.from(t.querySelectorAll("a.reply_to")).map(function(t){return i(t).commentId});return{commentId:n,authorId:r,postId:e,text:l(t.querySelector(".wall_reply_text").innerHTML),mentions:o}};e.default=s;var a=[],c=0;e.watchPost=function(t,e){var n={postId:t,cb:e,oldComments:[],watcherId:c++};return-1===a.indexOf(t)&&(a.push(n),n)},e.unwatchPost=function(t){for(var e=0;e<a.length;e++)return a[e].watcherId===t&&a.splice(e,1),!0;return!1};r.add(function(){a.forEach(function(t){console.log(a);try{o(t.postId).forEach(function(e){var n=s(e,t.postId);-1===t.oldComments.indexOf(n.commentId)&&(t.oldComments.push(n.commentId),t.cb(n))})}catch(t){console.error(t)}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0,o=[],i=(e.add=function(t){var e={id:r++,exec:t};return o.push(e),e},e.remove=function(t){for(var e=0;e<o.length;e++)return o[e].id===t&&o.splice(e,1),!0;return!1},function(){console.log("spied"),o.forEach(function(t){return t.exec()})}),l=function(t){if(t&&t.getAttribute){var e=t.getAttribute("id");e&&"replies_side"===e.substring(0,12)&&i()}},s=window.show;window.show=function(){l.apply(void 0,arguments),s.apply(void 0,arguments)};var a=setInterval(function(){window.wall&&(clearInterval(a),console.log("wall spy set"),window.wall.vkshowReplies=wall.showReplies,window.wall.showReplies=function(){var t;return i(),(t=window.wall).vkshowReplies.apply(t,arguments)})},100),c=setInterval(function(){window.WkView&&(clearInterval(c),console.log("set WkView spy"),window.WkView.vkarrows=window.WkView.updateArrows,window.WkView.updateArrows=function(){var t;return i(),(t=WkView).vkarrows.apply(t,arguments)})},100)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}o(n(3));var i=r(n(4)),l=r(n(0)),s=(r(n(5)),o(n(6)));t.exports={veil:i,comments:l,inject:s.default}},function(t,e,n){"use strict";function r(t,e){return new Function(t,e)}class o{static stringify(t){return JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e})}static parse(t){return JSON.parse(t,function(t,e){if(e&&"string"==typeof e&&0===e.indexOf("function")){var n={args:{from:e.indexOf("(")+1,to:e.indexOf(")")},body:{from:e.indexOf("{")+1,to:e.lastIndexOf("}")}};return r(e.substring(n.args.from,n.args.to),e.substring(n.body.from,n.body.to))}if(e&&"string"==typeof e&&e.match(/=>\\s*{/)){let[t,n]=e.split(/=>\\s*{\\s*(.*)\\s*}\\s*$/);return t=t.replace("(","").replace(")",""),r(t,n)}return e})}}t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unwatchPost=e.watchPost=e.veil=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(0),i=e.veil=function t(e,n){var r=(0,o.$getCommentsByPostId)(e),i=document.querySelector('[data-post-id="'+e+'"] .wr_header');i&&(console.log("set listener"),i.addEventListener("click",function(){console.log("reacted"),setTimeout(function(){return t(e,n)},200)})),r.forEach(function(t){if(null!==t){var r=(0,o.parseComment)(t,e),i=r.authorId;-1!==n.indexOf(i)&&(console.log("removed comment",r.commentId),t.remove())}})};e.default=i;var l=[],s=0,a=(e.watchPost=function(t,e){var n={postId:t,userIds:e,watcherId:s++};return i(t,e),l.push(n),n},e.unwatchPost=function(t){for(var e=0;e<l.length;e++)return l[e].watcherId===t&&l.splice(e,1),!0;return!1});r.add(function(){l.forEach(function(t){try{i(t.postId,t.userIds)}catch(e){console.error(e),a(t.watcherId)}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remove=e.add=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=0,i=[],l=e.add=function(t){var e={id:o++,exec:t};return i.push(e),e},s=(e.remove=function(t){for(var e=0;e<i.length;e++)return i[e].id===t&&i.splice(e,1),!0;return!1},setInterval(function(){if(window.wall){clearInterval(s),console.log("wall engagement spy set");var t=wall.sendReply;wall.sendReply=function(){var e=arguments;return i.forEach(function(t){return t.exec(e[0])}),t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))}}},100));l(function(t){console.log("engaged"),r.watchPost(t,console.warn)})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(7)),i=r(n(8)),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bot",n=document.createElement("div");return n.textContent=t,n.style.padding="15px",n.style.marginBottom="15px",n.style.border="1px solid #eee","player"===e?(n.style.alignSelf="flex-end",n.style.background="#edf0f5"):n.style.alignSelf="flex-start",n},s=function(t,e){var n=document.createElement("button");return n.classList.add("flat_button"),n.style.marginRight="15px",n.style.marginBottom="15px",n.textContent=e.text,n.addEventListener("click",function(){return u(t,e)}),n},a=function(t,e){t.$actionbox.innerHTML="",e.forEach(function(e){t.$actionbox.appendChild(s(t,e))})},c=function(t,e){t.$wall.innerHTML="",t.$wall.style.display="none",t.map[e].text.forEach(function(e){t.$chatbox.appendChild(l(e))}),t.map[e].wall&&(t.$wall.style.display="block",t.$wall.innerHTML=t.map[e].wall),a(t,t.map[e].actions)},u=function(t,e){t.$chatbox.appendChild(l(e.text,"player")),c(t,e.goto)},d=function(t,e){return{map:t,$wall:e.querySelector(".wall"),$chatbox:e.querySelector(".chat"),$actionbox:e.querySelector(".actions")}},h=function(){var t=document.createElement("div");return t.innerHTML="<div style=\\"\\n                        width: 100%;\\n                      \\">\\n                        <div class='wall' style=\\"padding: 15px; flex: 1; font-size: 48px; font-weight: 900; line-height: 1.2;\\"> </div>\\n                        <div class='chat-wrap' style='height: 400px; overflow: auto; position: relative; padding: 15px 15px 0 15px;'> \\n                            <div class='chat' style=\\"display:flex; flex-direction: column; justify-content: flex-end;\\"> </div>\\n                        </div>\\n                        <div class='submit_post' style=\\"display:block;\\">\\n                            <div class='actions' style=\\"display:flex; felx-direction: row; flex-wrap: wrap; margin-bottom: -15px;\\">\\n                            </div>\\n                        </div>\\n                      </div>",t},p=function(){var t=document.createElement("div");return t.classList.add("feed_row"),t.innerHTML="\\n        <div class='_post post page_block'>\\n            <div class='post_header' style='min-height: 0'></div>\\n        </div>",t},f=document.createElement("style");f.textContent="\\n/*\\n * Container style\\n */\\n.ps {\\n  overflow: hidden !important;\\n  overflow-anchor: none;\\n  -ms-overflow-style: none;\\n  touch-action: auto;\\n  -ms-touch-action: auto;\\n}\\n\\n/*\\n * Scrollbar rail styles\\n */\\n.ps__rail-x {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  height: 15px;\\n  /* there must be 'bottom' or 'top' for ps__rail-x */\\n  bottom: 0px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__rail-y {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  width: 15px;\\n  /* there must be 'right' or 'left' for ps__rail-y */\\n  right: 0;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps--active-x > .ps__rail-x,\\n.ps--active-y > .ps__rail-y {\\n  display: block;\\n  background-color: transparent;\\n}\\n\\n.ps:hover > .ps__rail-x,\\n.ps:hover > .ps__rail-y,\\n.ps--focus > .ps__rail-x,\\n.ps--focus > .ps__rail-y,\\n.ps--scrolling-x > .ps__rail-x,\\n.ps--scrolling-y > .ps__rail-y {\\n  opacity: 0.6;\\n}\\n\\n.ps__rail-x:hover,\\n.ps__rail-y:hover,\\n.ps__rail-x:focus,\\n.ps__rail-y:focus {\\n  background-color: #eee;\\n  opacity: 0.9;\\n}\\n\\n/*\\n * Scrollbar thumb styles\\n */\\n.ps__thumb-x {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, height .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\\n  height: 6px;\\n  /* there must be 'bottom' for ps__thumb-x */\\n  bottom: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__thumb-y {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, width .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\\n  width: 6px;\\n  /* there must be 'right' for ps__thumb-y */\\n  right: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__rail-x:hover > .ps__thumb-x,\\n.ps__rail-x:focus > .ps__thumb-x {\\n  background-color: #999;\\n  height: 11px;\\n}\\n\\n.ps__rail-y:hover > .ps__thumb-y,\\n.ps__rail-y:focus > .ps__thumb-y {\\n  background-color: #999;\\n  width: 11px;\\n}\\n\\n/* MS supports */\\n@supports (-ms-overflow-style: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}\\n\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}",document.body.appendChild(f),e.default=function(){var t=document.getElementById("feed_rows"),e=p(),n=h();e.querySelector(".post").appendChild(n);var r=d(o.default,n);console.log("setting scroll",r);var l=new i.default(r.$chatbox);console.log(l),c(r,"clickbait");t.insertBefore(e,t.children[8])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={clickbait:{wall:"Достали тролли в комментах?",text:[],actions:[{text:"Ага!",goto:"got_u"},{text:"Нет, я их игнорирую",goto:"ugood"}]},ugood:{text:["Молодец! Так держать!"],actions:[]},got_u:{text:["Это ужасно!","Мне кажется, тебе стоит пройти наш мини-курс","Он займёт всего несколько минут и поможет тебе научиться владеть собой","Прежде всего: как ты думаешь, запугивание - это насилие?"],actions:[{text:"Да, конечно!",goto:"yes_ofc"},{text:"Нет, с чего бы?",goto:"dthso"}]},yes_ofc:{text:["Правильно!","Как и отбирание денег и вещей, пинки и толчки,","как и предвзятое отношение на основе национальности или пола"],actions:[{text:"Это, должно быть, ужасно неприятно",goto:"violence"}]},dthso:{text:["С того, что человек испытывает страх или чувствует унижение, столкнувшись с этим."],actions:[{text:"Понял",goto:"violence"}]},violence:{text:["Вообще насилием можно считать любое умышленное действие, которое может нанести физическую или психологическую травму, покалечить, убить","Как ты думаешь, может ли применить насилие к тебе физически более слабый человек?"],actions:[{text:"Да, конечно",goto:"cyber_1"},{text:"Разумеется, нет. Как он это сделает?",goto:"cyber_2"}]},cyber_1:{text:["Правильно. К сожалению, столкнуться с насилием можно и в интернете",'Для психологического насилия в сети есть слов "кибербуллинг"'],actions:[{text:"Даже слово неприятное!",goto:"stat"}]},cyber_2:{text:["В Интернете!","Психологическое насилие в сети было ещё до её массового распространения","А теперь интернет есть у всех!",'Сетевая травля стала настолько распространённой, что для неё придумали слово: "кибербуллинг"'],actions:[{text:"Я и не думал о таком...",goto:"stat"}]},stat:{text:["По исследованием интернет-травле подвергается каждый четвёртый подросток.","Что самое страшное: многие из них, столкнувшись с травлей, чаще думали о самоубийстве"],actions:[{text:"Но как это касается меня?",goto:"me"},{text:"Что мне делать, чтобы противостоять насилию?",goto:"watdo"}]},watdo:{text:["Если тебе кажется, что ты подвергся травле, сделай следующее:","1) Набери воздуха в грудь и сосчитай до 10. Это поможет тебе успокоиться.","2) Поговори об этом с близким тебе человеком.","3) Не надо мстить, ругаться и волноваться. Хулиган по ту сторону экрана дожидается именно такой реакции от тебя."],actions:[{text:"Звучит разумно",goto:"blame"}]},me:{text:["Даже если с тобой такого не случается, никто из твоих друзей от этого не застрахован","Прежде всего - не смейся над ними, когда они обратятся к тебе с подобной проблемой","Дай ему знать, что он не одинок, что у него есть верный друг, который готов ему помочь"],actions:[{text:"А если это всё-таки коснётся меня?",goto:"watdo"},{text:"А что делать, если меня обвинят в кибербуллинге?",goto:"blame"}]},blame:{text:['Если тебя обвиняют в том, что ты "троллишь", прежде всего попытайся разобраться',"Постарайся понять, не задел ли ты чьи-нибудь чувства. Не стесняйся просить прощения за нанесённую обиду - это улучшит отношения между тобой и собеседником","Если ты не можешь разобраться, в чём дело - попроси собеседника объяснить, что не так","Главное - помни, не говори ничего оскорбительного и не воспринимай пустые угрозы всерьёз."],actions:[]}};e.default=r},function(t,e,n){"use strict";/*!
 * perfect-scrollbar v1.1.0
 * (c) 2017 Hyunje Jun
 * @license MIT
 */
function r(t){return getComputedStyle(t)}function o(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function i(t){var e=document.createElement("div");return e.className=t,e}function l(t,e){if(!y)throw new Error("No element matching method supported");return y.call(t,e)}function s(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function a(t,e){return Array.prototype.filter.call(t.children,function(t){return l(t,e)})}function c(t,e){var n=t.element.classList,r=x.state.scrolling(e);n.contains(r)?clearTimeout(_[e]):n.add(r)}function u(t,e){_[e]=setTimeout(function(){return t.element.classList.remove(x.state.scrolling(e))},t.settings.scrollingThreshold)}function d(t,e){c(t,e),u(t,e)}function h(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function p(t,e,n,r){var o=n[0],i=n[1],l=n[2],s=n[3],a=n[4],c=n[5],u=t.element,p=!1;t.reach[s]=null,e<=0&&(e=0,t.reach[s]="start"),e>=t[o]-t[i]&&((e=t[o]-t[i])-u[l]<=2&&(p=!0),t.reach[s]="end");var f=u[l]-e;f&&(u.dispatchEvent(h("ps-scroll-"+s)),f>0?u.dispatchEvent(h("ps-scroll-"+a)):u.dispatchEvent(h("ps-scroll-"+c)),p||(u[l]=e),t.reach[s]&&u.dispatchEvent(h("ps-"+s+"-reach-"+t.reach[s])),r&&d(t,s))}function f(t){return parseInt(t,10)||0}function g(t){return l(t,"input,[contenteditable]")||l(t,"select,[contenteditable]")||l(t,"textarea,[contenteditable]")||l(t,"button,[contenteditable]")}function b(t){var e=r(t);return f(e.width)+f(e.paddingLeft)+f(e.paddingRight)+f(e.borderLeftWidth)+f(e.borderRightWidth)}function v(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function m(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,o(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,o(e.scrollbarYRail,r),o(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function w(t,e){function n(e){L(t,p,b+m*(e[l]-v),!1),c(t,f),E(t),e.stopPropagation(),e.preventDefault()}function r(){u(t,f),t.event.unbind(t.ownerDocument,"mousemove",n)}var o=e[0],i=e[1],l=e[2],s=e[3],a=e[4],d=e[5],h=e[6],p=e[7],f=e[8],g=t.element,b=null,v=null,m=null;t.event.bind(t[a],"mousedown",function(e){b=g[h],v=e[l],m=(t[i]-t[o])/(t[s]-t[d]),t.event.bind(t.ownerDocument,"mousemove",n),t.event.once(t.ownerDocument,"mouseup",r),e.stopPropagation(),e.preventDefault()})}Object.defineProperty(e,"__esModule",{value:!0});var y=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,x={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},_={x:null,y:null},Y=function(t){this.element=t,this.handlers={}},X={isEmpty:{configurable:!0}};Y.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},Y.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)})},Y.prototype.unbindAll=function(){var t=this;for(var e in t.handlers)t.unbind(e)},X.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(Y.prototype,X);var W=function(){this.eventElements=[]};W.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new Y(t),this.eventElements.push(e)),e},W.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},W.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},W.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},W.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(t){r.unbind(e,o),n(t)};r.bind(e,o)};var L=function(t,e,n,r){void 0===r&&(r=!0);var o;if("top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}p(t,n,o,r)},R={isWebKit:document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:navigator&&navigator.msMaxTouchPoints},E=function(t){var e=t.element;t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(a(e,x.element.rail("x")).forEach(function(t){return s(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(a(e,x.element.rail("y")).forEach(function(t){return s(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=v(t,f(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=f((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=v(t,f(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=f(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),m(e,t),t.scrollbarXActive?e.classList.add(x.state.active("x")):(e.classList.remove(x.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,L(t,"left",0)),t.scrollbarYActive?e.classList.add(x.state.active("y")):(e.classList.remove(x.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,L(t,"top",0))},S={"click-rail":function(t){var e=t.element;t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(n){var r=n.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;L(t,"top",e.scrollTop+r*t.containerHeight),E(t),n.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(n){var r=n.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;L(t,"left",e.scrollLeft+r*t.containerWidth),E(t),n.stopPropagation()})},"drag-thumb":function(t){w(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","left","x"]),w(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","top","y"])},keyboard:function(t){function e(e,r){var o=n.scrollTop;if(0===e){if(!t.scrollbarYActive)return!1;if(0===o&&r>0||o>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var i=n.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===i&&e<0||i>=t.contentWidth-t.containerWidth&&e>0)return!t.settings.wheelPropagation}return!0}var n=t.element,r=function(){return l(n,":hover")},o=function(){return l(t.scrollbarX,":focus")||l(t.scrollbarY,":focus")};t.event.bind(t.ownerDocument,"keydown",function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(r()||o())){var l=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(l){if("IFRAME"===l.tagName)l=l.contentDocument.activeElement;else for(;l.shadowRoot;)l=l.shadowRoot.activeElement;if(g(l))return}var s=0,a=0;switch(i.which){case 37:s=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:a=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:s=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:a=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:a=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==a||(L(t,"top",n.scrollTop-a),L(t,"left",n.scrollLeft+s),E(t),e(s,a)&&i.preventDefault())}})},wheel:function(t){function e(e,n){var r=l.scrollTop;if(0===e){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=l.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&e<0||o>=t.contentWidth-t.containerWidth&&e>0)return!t.settings.wheelPropagation}return!0}function n(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}function o(t,e,n){if(!R.isWebKit&&l.querySelector("select:focus"))return!0;if(!l.contains(t))return!1;for(var o=t;o&&o!==l;){if(o.classList.contains(x.element.consuming))return!0;var i=r(o);if([i.overflow,i.overflowX,i.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&n>0||o.scrollTop===s&&n<0))return!0;var a=o.scrollLeft-o.clientWidth;if(a>0&&!(0===o.scrollLeft&&e<0||o.scrollLeft===a&&e>0))return!0}o=o.parentNode}return!1}function i(r){var i=n(r),s=i[0],a=i[1];if(!o(r.target,s,a)){var c=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(a?L(t,"top",l.scrollTop-a*t.settings.wheelSpeed):L(t,"top",l.scrollTop+s*t.settings.wheelSpeed),c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(s?L(t,"left",l.scrollLeft+s*t.settings.wheelSpeed):L(t,"left",l.scrollLeft-a*t.settings.wheelSpeed),c=!0):(L(t,"top",l.scrollTop-a*t.settings.wheelSpeed),L(t,"left",l.scrollLeft+s*t.settings.wheelSpeed)),E(t),(c=c||e(s,a))&&(r.stopPropagation(),r.preventDefault())}}var l=t.element;void 0!==window.onwheel?t.event.bind(l,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(l,"mousewheel",i)},touch:function(t){function e(e,n){var r=u.scrollTop,o=u.scrollLeft,i=Math.abs(e),l=Math.abs(n);if(l>i){if(n<0&&r===t.contentHeight-t.containerHeight||n>0&&0===r)return{stop:!t.settings.swipePropagation,prevent:0===window.scrollY}}else if(i>l&&(e<0&&o===t.contentWidth-t.containerWidth||e>0&&0===o))return{stop:!t.settings.swipePropagation,prevent:!0};return{stop:!0,prevent:!0}}function n(e,n){L(t,"top",u.scrollTop-n),L(t,"left",u.scrollLeft-e),E(t)}function r(){g=!0}function o(){g=!1}function i(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function s(t){if(l(t)){b=!0;var e=i(t);d.pageX=e.pageX,d.pageY=e.pageY,h=(new Date).getTime(),null!==f&&clearInterval(f),t.stopPropagation()}}function a(r){if(!b&&t.settings.swipePropagation&&s(r),!g&&b&&l(r)){var o=i(r),a={pageX:o.pageX,pageY:o.pageY},c=a.pageX-d.pageX,u=a.pageY-d.pageY;n(c,u),d=a;var f=(new Date).getTime(),v=f-h;v>0&&(p.x=c/v,p.y=u/v,h=f);var m=e(c,u),w=m.stop,y=m.prevent;w&&r.stopPropagation(),y&&r.preventDefault()}}function c(){!g&&b&&(b=!1,t.settings.swipeEasing&&(clearInterval(f),f=setInterval(function(){t.isInitialized?clearInterval(f):p.x||p.y?Math.abs(p.x)<.01&&Math.abs(p.y)<.01?clearInterval(f):(n(30*p.x,30*p.y),p.x*=.8,p.y*=.8):clearInterval(f)},10)))}if(R.supportsTouch||R.supportsIePointer){var u=t.element,d={},h=0,p={},f=null,g=!1,b=!1;R.supportsTouch?(t.event.bind(window,"touchstart",r),t.event.bind(window,"touchend",o),t.event.bind(u,"touchstart",s),t.event.bind(u,"touchmove",a),t.event.bind(u,"touchend",c)):R.supportsIePointer&&(window.PointerEvent?(t.event.bind(window,"pointerdown",r),t.event.bind(window,"pointerup",o),t.event.bind(u,"pointerdown",s),t.event.bind(u,"pointermove",a),t.event.bind(u,"pointerup",c)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",r),t.event.bind(window,"MSPointerUp",o),t.event.bind(u,"MSPointerDown",s),t.event.bind(u,"MSPointerMove",a),t.event.bind(u,"MSPointerUp",c)))}}},H=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(x.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1};for(var l in e)n.settings[l]=e[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return t.classList.add(x.state.focus)},a=function(){return t.classList.remove(x.state.focus)};this.isRtl="rtl"===r(t).direction,this.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new W,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=i(x.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=i(x.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=f(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=f(c.borderLeftWidth)+f(c.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=f(c.marginLeft)+f(c.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=i(x.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=i(x.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=f(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?b(this.scrollbarY):null,this.railBorderYWidth=f(u.borderTopWidth)+f(u.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=f(u.marginTop)+f(u.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.settings.handlers.forEach(function(t){return S[t](n)}),this.event.bind(this.element,"scroll",function(){return E(n)}),E(this)},P={isInitialized:{configurable:!0}};P.isInitialized.get=function(){return this.element.classList.contains(x.main)},H.prototype.update=function(){this.isInitialized&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=f(r(this.scrollbarXRail).marginLeft)+f(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=f(r(this.scrollbarYRail).marginTop)+f(r(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),E(this),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},H.prototype.destroy=function(){this.isInitialized&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null)},H.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},Object.defineProperties(H.prototype,P),e.default=H}]);`
    document.body.appendChild(scr)
